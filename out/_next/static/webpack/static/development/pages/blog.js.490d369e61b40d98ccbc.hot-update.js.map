{"version":3,"file":"static/webpack/static/development/pages/blog.js.490d369e61b40d98ccbc.hot-update.js","sources":["webpack:///./node_modules/nextein/dist/components/link.js","webpack:///./node_modules/nextein/link.js","webpack:///./pages/blog.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _link = require('next/link');\n\nvar _link2 = _interopRequireDefault(_link);\n\nvar _load = require('../entries/load');\n\nvar _load2 = _interopRequireDefault(_load);\n\nvar _map = require('../entries/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NexteinLink = function (_Component) {\n  _inherits(NexteinLink, _Component);\n\n  function NexteinLink() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, NexteinLink);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = NexteinLink.__proto__ || Object.getPrototypeOf(NexteinLink)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      href: _this.props.href,\n      as: _this.props.as\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(NexteinLink, [{\n    key: 'componentDidMount',\n    value: async function componentDidMount() {\n      var all = await (0, _load2.default)();\n      var map = (0, _map2.default)(all);\n      var href = this.state.href;\n\n      if (href) {\n        var entry = map[href];\n        if (entry) {\n          this.setState({\n            href: { pathname: (0, _utils.prefixed)(entry.pathname), query: entry.query },\n            as: href\n          });\n        }\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _state = this.state,\n          href = _state.href,\n          as = _state.as;\n\n      var _props = this.props,\n          data = _props.data,\n          children = _props.children,\n          content = _props.content,\n          raw = _props.raw,\n          rest = _objectWithoutProperties(_props, ['data', 'children', 'content', 'raw']); // content & raw are not used but required to remove them from rest\n\n      if (data) {\n        var _data$page = data.page,\n            page = _data$page === undefined ? 'post' : _data$page,\n            _entry = data._entry,\n            url = data.url;\n\n        href = { pathname: '/' + page, query: { _entry: _entry } };\n        as = url;\n      }\n\n      href = (0, _utils.prefixed)(href);\n      as = (0, _utils.prefixed)(as);\n\n      return _react2.default.createElement(\n        _link2.default,\n        _extends({}, rest, { href: href, as: as }),\n        children\n      );\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(state, _ref2) {\n      var href = _ref2.href,\n          as = _ref2.as;\n\n      if (state.href !== href) {\n        return { href: href, as: as };\n      }\n      return null;\n    }\n  }]);\n\n  return NexteinLink;\n}(_react.Component);\n\nexports.default = NexteinLink;","module.exports = require('./dist/components/link')","import Link from 'nextein/link'\nimport { withPostsFilterBy, inCategory } from 'nextein/posts'\nimport { Content } from 'nextein/post'\nimport { withI18n } from 'react-i18next'\n\nimport { compose } from '~/utils/compose'\nimport Layout from '~/layouts/default'\n\nconst enhance = compose(\n  withPostsFilterBy(inCategory('blog')),\n  withI18n(),\n)\nexport default enhance(({ posts, t }) => (\n  <Layout hasBackground={false}>\n    {posts.sort(byDateDesc).map((post, index) => (\n      <article key={`post-${index}`}>\n        <h2>{post.data.title}</h2>\n        <Content {...post} excerpt />\n        <Link href={post.data.url}>\n          <a>{t('Read more >')}</a>\n        </Link>\n      </article>\n    ))}\n\n    <style jsx>{`\n      article {\n        margin-bottom: 1rem;\n        padding: 1rem;\n        background-color: rgba(40, 44, 52, 0.5);\n      }\n    `}</style>\n  </Layout>\n))\n\nfunction byDateDesc(a, b) {\n  if (a.data.date < b.data.date) return 1\n  if (a.data.date > b.data.date) return -1\n  return 0\n}\n"],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC5HA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAIA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALA;AADA;AAAA;AAAA;AAAA;AADA;AACA;AAqBA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}