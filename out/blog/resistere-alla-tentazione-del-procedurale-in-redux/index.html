<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8" class="next-head"/><meta property="og:type" content="website" class="next-head"/><meta property="og:image" content="https://www.ingloriouscoderz.it/static/images/backgrounds/metal-800x600.png" class="next-head"/><meta property="og:image:alt" content="Inglorious Coderz" class="next-head"/><meta property="og:image:width" content="800" class="next-head"/><meta property="og:image:height" content="600" class="next-head"/><meta property="og:locale" content="en_US" class="next-head"/><meta property="og:site_name" content="Inglorious Coderz" class="next-head"/><title class="next-head">Resistere alla tentazione del procedurale in Redux | Inglorious Coderz</title><meta name="robots" content="index,follow" class="next-head"/><meta name="googlebot" content="index,follow" class="next-head"/><meta name="description" content="Non è facile disimparare, ma si può e si deve." class="next-head"/><meta property="og:url" content="https://www.ingloriouscoderz.it/blog/resistere-alla-tentazione-del-procedurale-in-redux" class="next-head"/><meta property="og:title" content="Resistere alla tentazione del procedurale in Redux | Inglorious Coderz" class="next-head"/><meta property="og:description" content="Non è facile disimparare, ma si può e si deve." class="next-head"/><link rel="canonical" href="https://www.ingloriouscoderz.it/blog/resistere-alla-tentazione-del-procedurale-in-redux" class="next-head"/><link rel="preload" href="/_next/static/U8cRU8f7JegK67LboKVwn/pages/post.js" as="script"/><link rel="preload" href="/_next/static/U8cRU8f7JegK67LboKVwn/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/U8cRU8f7JegK67LboKVwn/pages/_error.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-347dd6a0495bab5a4caf.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.82aab45b771716fb8e99.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.273fa001fc5fa7fd2b84.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-dcd3443c392942bb9cfd.js" as="script"/><link rel="stylesheet" href="/_next/static/css/styles.e2a538ab.chunk.css"/><style id="__jsx-2096718123">.button.jsx-2096718123{-webkit-flex:1;-ms-flex:1;flex:1;background-color:rgba(40,44,52,0.5);margin:0.25rem;border:1px solid #429aef;padding:0.25rem 0.5rem;text-transform:uppercase;line-height:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
div.jsx-2096718123{height:100%;}</style><style id="__jsx-2522996044">.toolbar.jsx-2522996044{padding:0.5rem 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}
.toolbar.jsx-2522996044>div.jsx-2522996044{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><style id="__jsx-3278221705">.logo.jsx-3278221705{width:64px;-webkit-perspective:64px;-moz-perspective:64px;-ms-perspective:64px;perspective:64px;margin:0 auto;}
.cube.jsx-3278221705{height:64px;-webkit-transform-style:preserve-3d;-ms-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transform:scaleY(1.2) translateZ(-64px) rotateX(-0.6981317007977318rad) rotateY(-0.7853981633974483rad);-ms-transform:scaleY(1.2) translateZ(-64px) rotateX(-0.6981317007977318rad) rotateY(-0.7853981633974483rad);transform:scaleY(1.2) translateZ(-64px) rotateX(-0.6981317007977318rad) rotateY(-0.7853981633974483rad);-webkit-transition:ease-out 0.2s;transition:ease-out 0.2s;}
.cube__face.jsx-3278221705{position:absolute;width:100%;height:100%;-webkit-transform-origin:bottom center;-ms-transform-origin:bottom center;transform-origin:bottom center;}
.cube__face.jsx-3278221705>img.jsx-3278221705{position:absolute;}
.cube__face--left.jsx-3278221705{-webkit-transform:rotateY(0deg) translateZ(32px) skew(12deg);-ms-transform:rotateY(0deg) translateZ(32px) skew(12deg);transform:rotateY(0deg) translateZ(32px) skew(12deg);}
.cube__face--right.jsx-3278221705{-webkit-transform:rotateY(90deg) translateZ(32px) skew(-12deg);-ms-transform:rotateY(90deg) translateZ(32px) skew(-12deg);transform:rotateY(90deg) translateZ(32px) skew(-12deg);}
.cube__face--right.jsx-3278221705>.eye.jsx-3278221705{-webkit-transform:rotateY(180deg);-ms-transform:rotateY(180deg);transform:rotateY(180deg);}
.cube__face--left.jsx-3278221705>img.jsx-3278221705:first-of-type{;}
.cube__face--right.jsx-3278221705>img.jsx-3278221705:first-of-type{;}</style><style id="__jsx-2692775195">header.jsx-2692775195{background:black;background-image:url(/_next/static/images/metal-wallpaper-3332ea3aa68955eb3406abac6a06f036.jpg);background-position-x:center;background-attachment:fixed;margin-bottom:1rem;position:-webkit-sticky;position:sticky;top:0;z-index:1000;}
header.jsx-2692775195>h1.jsx-2692775195{font-size:2rem;}
@media (max-width:575.98px){header.jsx-2692775195>h1.jsx-2692775195{font-size:1rem;}}
header.jsx-2692775195>h1.jsx-2692775195 .title.jsx-2692775195{font-family:'Ethnocentric';color:#666;display:grid;justify-items:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;grid-template-columns:4fr 1fr 4fr;}
.shade.jsx-2692775195{position:relative;margin:-1.5rem 0 0;padding:0;display:block;background:#111;width:100%;height:1.5rem;opacity:0.25;text-align:center;}
@media (max-width:575.98px){.shade.jsx-2692775195{margin:-0.75rem 0 0;height:1rem;}}
header.jsx-2692775195>p.jsx-2692775195{text-align:center;margin:0.5rem;}
nav.jsx-2692775195{text-align:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}</style><style id="__jsx-3021175288">article img{background:white;}
article .instagram-media{margin:0 auto 12px !important;}</style><style id="__jsx-2421455553">article.jsx-3765414576>time.jsx-3765414576{display:block;margin-top:-0.5rem;margin-bottom:1rem;color:#9a9a9a;}</style><style id="__jsx-453059934">footer.jsx-453059934{background:black;font-size:small;text-align:center;padding:1rem;}
footer.jsx-453059934 img.jsx-453059934{display:inline-block;margin:0;border-radius:0;vertical-align:middle;}</style><style id="__jsx-135661401">@font-face{font-family:'Ethnocentric';font-display:auto;font-style:normal;font-weight:400;src:url('/static/fonts/ethnocentric_rg.ttf') format('truetype');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6, U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193, U+2212,U+2215,U+FEFF,U+FFFD;}
@font-face{font-family:'Orbitron';font-display:auto;font-style:normal;font-weight:400;src:url('/static/fonts/orbitron.woff2') format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6, U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193, U+2212,U+2215,U+FEFF,U+FFFD;}
@font-face{font-family:'Roboto';font-display:auto;font-style:normal;font-weight:400;src:url('/static/fonts/roboto.woff2') format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6, U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193, U+2212,U+2215,U+FEFF,U+FFFD;}
@font-face{font-family:'Fira Code';font-display:auto;font-style:normal;font-weight:400;src:url('/static/fonts/firacode.woff2') format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6, U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193, U+2212,U+2215,U+FEFF,U+FFFD;}
:focus{outline:none;}
::-moz-focus-inner{border:0;}
html,body,#__next{height:100%;margin:0;}
html{font-family:'Roboto','Ubuntu',sans-serif;font-size:16px;line-height:1.5;color:#bbb;}
body,.layout{background:black;background-image:url(/_next/static/images/metal-wallpaper-3332ea3aa68955eb3406abac6a06f036.jpg);background-position-x:center;background-attachment:fixed;}
 a{color:#429aef;-webkit-text-decoration:none;text-decoration:none;}
a:hover{-webkit-filter:brightness(125%);filter:brightness(125%);}
h1,h2,h3{font-family:'Orbitron';font-weight:normal;color:#98c379;}
h1{font-size:1.5rem;}
h2{font-size:1.2rem;}
p{margin-top:0;}
p:last-child{margin-bottom:0;}
img{display:block;vertical-align:middle;max-width:100%;margin:0 auto;}
table{margin:1em auto;}
th{background-color:rgba(150,150,150,0.33);padding:0.5em;}
td{background-color:rgba(200,200,200,0.33);padding:0.5em;}
input[type='checkbox']{vertical-align:middle;}
pre,code{font-family:'Fira Code';}
pre{white-space:pre-wrap;word-break:break-all;word-wrap:break-word;}
code{font-size:14px;color:#abb2bf;background:#282c34;}
blockquote{margin:0;margin-bottom:1rem;padding:0 1rem;border-left:0.25rem solid #bbb;}
blockquote>p:before{content:'“';font-size:2rem;line-height:0.1rem;margin-right:0.5rem;vertical-align:-0.5rem;}
blockquote>p:last-of-type:after{content:'”';font-size:2rem;line-height:0.1rem;margin-right:0.5rem;vertical-align:-0.5rem;}
.text-right{text-align:right;}
.card{margin-bottom:1rem;padding:1rem;background-color:rgba(40,44,52,0.5);}
.card-1{box-shadow:0 1px 3px rgba(0,0,0,0.12),0 1px 2px rgba(0,0,0,0.24);-webkit-transition:all 0.3s cubic-bezier(0.25,0.8,0.25,1);transition:all 0.3s cubic-bezier(0.25,0.8,0.25,1);}
.card-1:hover{box-shadow:0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);}
.container-fluid{padding-left:1rem;padding-right:1rem;}
.row>*{height:100%;}
.svg-inline--fa.fa-w-16{width:1em;}
.svg-inline--fa.fa-w-14{width:0.875em;}
.svg-inline--fa{display:inline-block;font-size:inherit;height:1em;overflow:visible;vertical-align:-0.125em;}
.mapboxgl-map{position:relative;overflow:hidden;}
.mapboxgl-marker{position:absolute;}</style><style id="__jsx-1352889155">.layout.jsx-1352889155{max-width:1024px;margin:0 auto;height:100%;display:grid;grid-template-rows:auto auto 1fr auto;}
main.jsx-1352889155{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}</style><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0"/><link rel="apple-touch-icon" sizes="180x180" href="/static/icons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/icons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/icons/favicon-16x16.png"/><link rel="manifest" href="/static/site.webmanifest"/><link rel="mask-icon" href="/static/icons/safari-pinned-tab.svg" color="#000000"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/><meta name="google-site-verification" content="RFVNvxmtxJpN5XtPqm_lrA2jrphy-Sn_fy3XyekO-2E"/><meta property="fb:app_id" content="1677017469210661"/><script src="/static/scripts/gh-spa-redirect.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.css" integrity="sha384-BdGj8xC2eZkQaxoQ8nSLefg4AV4/AwB3Fj+8SUSo7pnKP6Eoy18liIKTPn9oBYNG" crossorigin="anonymous"/></head><body><div id="__next"><div class="jsx-1352889155 jsx-135661401 layout container-fluid"><div class="jsx-2522996044 toolbar"><div class="jsx-2522996044"><a href="https://www.facebook.com/IngloriousCoderz/" target="_blank" rel="noopener noreferrer" aria-label="Facebook" class="jsx-2096718123 button"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook" class="svg-inline--fa fa-facebook fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"></path></svg></a><a href="https://www.instagram.com/ingloriouscoderz/" target="_blank" rel="noopener noreferrer" aria-label="Instagram" class="jsx-2096718123 button"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="instagram" class="svg-inline--fa fa-instagram fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path></svg></a><a href="https://github.com/IngloriousCoderz/" target="_blank" rel="noopener noreferrer" aria-label="Github" class="jsx-2096718123 button"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a href="https://www.linkedin.com/company/inglorious-coderz/" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn" class="jsx-2096718123 button"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a><a href="https://twitch.tv/ingloriouscoderz" target="_blank" rel="noopener noreferrer" aria-label="Twitch" class="jsx-2096718123 button"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitch" class="svg-inline--fa fa-twitch fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M391.17,103.47H352.54v109.7h38.63ZM285,103H246.37V212.75H285ZM120.83,0,24.31,91.42V420.58H140.14V512l96.53-91.42h77.25L487.69,256V0ZM449.07,237.75l-77.22,73.12H294.61l-67.6,64v-64H140.14V36.58H449.07Z"></path></svg></a><a href="https://www.youtube.com/channel/UCBwo1pwwUtGi_BqsDYE03CA" target="_blank" rel="noopener noreferrer" aria-label="YouTube" class="jsx-2096718123 button"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="youtube" class="svg-inline--fa fa-youtube fa-w-18 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"></path></svg></a><a href="mailto:antony.mistretta@gmail.com" target="_blank" rel="noopener noreferrer" aria-label="Email" class="jsx-2096718123 button"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="envelope" class="svg-inline--fa fa-envelope fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z"></path></svg></a><a href="tel:+393202357664" target="_blank" rel="noopener noreferrer" aria-label="WhatsApp" class="jsx-2096718123 button"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="whatsapp" class="svg-inline--fa fa-whatsapp fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"></path></svg></a></div><div class="jsx-2522996044"><a class="jsx-2096718123 button" href="/privacy-policy/">Privacy</a></div></div><header class="jsx-2692775195"><h1 class="jsx-2692775195"><a href="/"><div class="jsx-2692775195 title"><div class="jsx-2692775195"><span class="jsx-2692775195">Inglorious</span><span class="jsx-2692775195 shade"> </span></div><div class="jsx-3278221705 logo"><div class="jsx-3278221705 cube"><div class="jsx-3278221705 cube__face cube__face--left"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2IDYiPjxwYXRoIGQ9Ik0wIDBoNkw0IDF2NGwyIDFIMGwyLTFWMXoiIGZpbGw9IiM3ZjdmZmYiIGZpbGwtb3BhY2l0eT0iLjUiIHN0cm9rZT0iIzdmN2ZjMCIgc3Ryb2tlLXdpZHRoPSIuMjUiIHN0cm9rZS1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==" alt="I" class="jsx-3278221705"/><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2IDYiPjxwYXRoIGQ9Ik0wIDBoMWwxLjUuNzVoMkw0IDFIMnoiIGZpbGw9IiMwMGMwYzAiIGZpbGwtb3BhY2l0eT0iLjUiLz48cGF0aCBkPSJNMSAwaDVMNC41Ljc1aC0yeiIgZmlsbD0iIzBmZiIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==" alt="left eye" class="jsx-3278221705 eye"/></div><div class="jsx-3278221705 cube__face cube__face--right"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2IDYiPjxwYXRoIGQ9Ik0wIDBoNnYyTDQgMUgydjRoMmwyLTF2MkgweiIgZmlsbD0iIzdmN2ZmZiIgZmlsbC1vcGFjaXR5PSIuNSIgc3Ryb2tlPSIjN2Y3ZmMwIiBzdHJva2Utd2lkdGg9Ii4yNSIgc3Ryb2tlLW9wYWNpdHk9Ii41Ii8+PC9zdmc+" alt="C" class="jsx-3278221705"/></div></div></div><div class="jsx-2692775195"><span class="jsx-2692775195">Coderz</span><span class="jsx-2692775195 shade"> </span></div></div></a></h1><nav class="jsx-2692775195"><a class="jsx-2096718123 button" href="/why/">Why</a><a class="jsx-2096718123 button" href="/who/">Who</a><a class="jsx-2096718123 button" href="/what/">What</a><a class="jsx-2096718123 button" href="/how/">How</a><a class="jsx-2096718123 button" href="/when/">When</a><a class="jsx-2096718123 button" href="/where/">Where</a><a class="jsx-2096718123 button" href="/how-much/">How Much</a><a class="jsx-2096718123 button" href="/icy/">Icy</a><a class="jsx-2096718123 button" href="/blog/">Blog</a></nav></header><main class="jsx-1352889155 jsx-135661401"><article class="jsx-3765414576 card card-1"><h1 class="jsx-3765414576">Resistere alla tentazione del procedurale in Redux</h1><time dateTime="2016-07-21T00:00:00.000Z" class="jsx-3765414576">7/21/2016</time><div><p>Proveniendo da un contesto procedurale e orientato agli oggetti, un approccio
funzionale e dichiarativo come quello di <a href="http://redux.js.org/" target="_blank" rel="noopener noreferrer">redux</a> richiede un salto mentale non indifferente. Realizzare applicazioni è molto semplice, almeno finché non si devono gestire un&#x27;infinità di effetti collaterali e chiamate asincrone che si innescano a catena. È lì che l&#x27;approccio più intrigante risulta quello procedurale. Tuttavia dobbiamo essere coraggiosi e cercare l&#x27;approccio più semplice ed elegante, non quello più comodo.</p>
<p>Esempio pratico: <em>Master-Detail</em>.</p>
<p>Supponiamo di avere dei componenti griglia che sanno mostrare dati recuperati da remoto con una query. Questa query è dinamica, può cambiare a seconda di variabili che le arrivano dall&#x27;esterno.</p>
<p>Supponiamo ora di dover mostrare una prima griglia che non dipende da alcuna variabile. Questa griglia deve poi auto-selezionarsi la prima riga, e questo comporta il caricamento di una seconda griglia i cui dati dipendono dalla riga selezionata (dalle variabili da essa prodotte, per la precisione). Il procedimento può andare avanti con un&#x27;ulteriore selezione automatica della prima riga nella seconda griglia e conseguente caricamento di una terza, e così via. La selezione di una riga può ovviamente essere effettuata anche da parte dell&#x27;utente, che innescherà un nuovo effetto a catena sulla griglia corrente e su tutte quelle dipendenti.</p>
<p>La prima soluzione che sono riuscito a ottenere è trasferendo tutto il potere alle saghe di <a href="http://yelouafi.github.io/redux-saga/" target="_blank" rel="noopener noreferrer">redux-saga</a> (ma i thunk di <a href="https://github.com/gaearon/redux-thunk" target="_blank" rel="noopener noreferrer">redux-thunk</a> avrebbero sortito lo stesso effetto).</p>
<p>Appena lo store è creato possiamo dispatchare una action di inizializzazione per la prima griglia, quella che non dipende da nessuna variabile:</p>
<pre><code class="language-js">store.dispatch(initGrid(&#x27;FirstGrid&#x27;))
</code></pre>
<p>La saga che accoglierà la action di inizializzazione sarà pressappoco questa:</p>
<pre><code class="language-js">function* initGrid(action) {
  const {
    payload: { id, variables },
  } = action
  const query = computeNewQuery(id, variables)

  try {
    const data = yield call(fetchData, id, query)
    yield put(receiveData(id, data))
    yield put(selectRow(id, 0))
  } catch ({ message }) {
    yield put(receiveError(id, message))
  }
}
</code></pre>
<p>La nuova query viene calcolata al volo (ho omesso i dettagli per chiarezza) e viene usata per recuperare i nuovi dati da passare alla griglia chiamando direttamente un&#x27;altra saga chiamata <code>fetchData</code>. Una volta ottenuti i dati viene aggiornata la griglia corrente e viene selezionata la prima riga, e la selezione è il dispatch di una action a un&#x27;altra saga:</p>
<pre><code class="language-js">function* selectRow(action) {
  const {
    payload: { id, selectedRow },
  } = action
  const newVars = computeNewVariables(id, selectedRow)

  yield put(updateSelectedRow(id, selectedRow))
  yield grids.map(grid =&gt; {
    if (grid.dependsOn(updatedVariables)) {
      return fork(initGrid, {
        payload: { id, variables: newVars },
      })
    }
  })
}
</code></pre>
<p>Questo approccio funziona, e pare anche abbastanza pulito. Le saghe in questa implementazione possono essere viste come degli agenti esterni (forse qualcosa di simile agli <a href="http://jamesknelson.com/join-the-dark-side-of-the-flux-responding-to-actions-with-actors/" target="_blank" rel="noopener noreferrer">attori</a>?) oppure, in modo più pittoresco, come aerei che volano a bassa quota sull&#x27;applicazione sganciando action per aggiornare lo store.</p>
<p>Ci sono però alcuni code smell più o meno evidenti:</p>
<ol>
<li>I riduttori non hanno logica, vengono interpellati solo per popolarsi con dati recuperati o calcolati dalle saghe</li>
<li>Nelle saghe invece è nascosta tanta, tanta logica procedurale, compresa la scelta di quali griglie devono essere aggiornate o addirittura quale griglia inizializzare per prima, e scriverci sopra degli unit test non è così banale (sicuramente più semplice che farlo con i thunk, per cui se la strada scelta è questa almeno scegliete il male minore)</li>
<li>C&#x27;è una dipendenza ciclica fra le due saghe, perché quando inizializzo una griglia devo selezionare la prima riga e quando seleziono la prima riga devo inizializzare le griglie dipendenti</li>
<li>Nella saga di <code>selectRow</code> viene chiamata la saga <code>initGrid</code> sfruttando una finta action: questo perché le saghe per contratto devono accettare una action se vogliono essere usate in un <a href="http://yelouafi.github.io/redux-saga/docs/advanced/Concurrency.html" target="_blank" rel="noopener noreferrer">takeEvery</a></li>
</ol>
<p>Il tutto nasce dal presupposto che le griglie debbano essere piuttosto stupide, e sappiano visualizzare i dati recuperati altrove (dalle saghe) piuttosto che effettuare loro stesse le query. Ma riguardando più volte al microscopio i <a href="https://egghead.io/courses/getting-started-with-redux" target="_blank" rel="noopener noreferrer">video tutorial</a> di Dan Abramov, in particolare il <a href="https://egghead.io/courses/building-react-applications-with-idiomatic-redux" target="_blank" rel="noopener noreferrer">secondo</a>, nonché le discussioni su Github relative a <a href="https://github.com/reactjs/redux/issues/1171" target="_blank" rel="noopener noreferrer">come strutturare un&#x27;applicazione Redux</a> e a <a href="https://github.com/reactjs/redux/issues/749" target="_blank" rel="noopener noreferrer">come modificare lo stato di riduttori interdipendenti</a>, mi sono convinto che un&#x27;altra soluzione sia possibile, e anche più efficace.</p>
<p>La soluzione in parole povere è la seguente:</p>
<p>La query calcolata è parte integrante dello stato delle griglie (ma forse potrebbe anche essere implementata come un <a href="https://github.com/reactjs/reselect" target="_blank" rel="noopener noreferrer">selettore memoizzato</a>):</p>
<pre><code class="language-js">function query = (state, action) =&gt; {
  const { type, payload } = action

  switch (type) {
    case UPDATE_LIVE_QUERY:
      return computeNewQuery(payload)
    default:
      return state
  }
}
</code></pre>
<p>Le griglie, esattamente come nei video tutorial, sono suddivise in <a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0#.jqqae1xb5" target="_blank" rel="noopener noreferrer">componenti presentazionali e componenti contenitori</a>, e i contenitori sono in grado di chiamare la saga <code>fetchData</code> per conto loro nei metodi <code>componentDidMount</code> e <code>componentDidUpdate</code>:</p>
<pre><code class="language-js">class GridContainer extends Component {
  fetchData() {
    const { id, canFetchData, requestData } = this.props

    if (canFetchData) {
      requestData(id)
    }
  }

  componentDidMount() {
    this.fetchData()
  }

  componentDidUpdate(prevProps) {
    if (this.props.liveQuery !== prevProps.liveQuery) {
      this.fetchData()
    }
  }

  render() {
    const { id, canFetchData, requestData, ...rest } = this.props
    return &lt;Grid id={id} {...rest} /&gt;
  }
}

connect(
  mapStateToProps,
  { requestData, selectRow },
)(GridContainer)
</code></pre>
<p>Come si può notare, nel metodo <code>componentDidUpdate</code> la chiamata a <code>fetchData</code> deve essere fatta solo se la query è cambiata rispetto a prima. Questo significa che bisogna prestare particolare attenzione nel riduttore a non fornire una copia della query ma la query stessa se il dispatch di una action non l&#x27;ha cambiata. A questo scopo potrebbe essere molto utile una libreria come <a href="https://facebook.github.io/immutable-js/" target="_blank" rel="noopener noreferrer">Immutable</a>.</p>
<p>Inoltre nel metodo <code>fetchData</code> viene passata una proprietà chiamata <code>canFetchData</code>: questa non è altro che un selettore che verifica che la query corrente abbia tutte le informazioni necessarie per essere eseguita (cioè non dipenda da alcuna variabile o le variabili da cui dipende ci siano tutte). Questo approccio, che mi piace chiamare <em>ragionare a compartimenti stagni</em>, è semplicemente la base di una programmazione modulare.</p>
<p>Il pezzo difficile è nel <code>rootReducer</code>: quando viene selezionata una riga, questo deve calcolare le nuove variabili, aggiornarle nella porzione di stato dedicata, e poi usare le variabili per aggiornare la query alle griglie (<em>TUTTE</em> le variabili e <em>TUTTE</em> le griglie, è questo che lo rende più dichiarativo e fail-safe). Perché implementare questa logica proprio nella root? Perché è l&#x27;<a href="https://en.wikipedia.org/wiki/GRASP_(object-oriented_design#Information_expert)" target="_blank" rel="noopener noreferrer">Information Expert</a> della situazione:</p>
<pre><code class="language-js">const rootReducer = (state, action) =&gt; {
  const { type, payload } = action
  switch (type) {
    case &#x27;@@INIT&#x27;:
      return {
        ...state,
        viewers: viewers(state.grids, computeNewQuery(state.variables)),
      }
    case SELECT_ROW:
      const newVars = computeNewVariables(payload.id, payload.row)
      let newState = {
        ...state,
        grids: grids(state.grids, action),
        variables: variables(state.variables, updateVariables(newVars)),
      }
      return {
        ...newState,
        grids: grids(newState.grids, updateQuery(newState.variables)),
      }
    default:
      return state
  }
}
</code></pre>
<p>Alcune cose da notare qui:</p>
<ol>
<li>Stiamo usando la action di inizializzazione di Redux per cominciare a &quot;svegliare&quot; le griglie; forse non è molto ortodosso, avremmo potuto dispatchare una nostra action come fatto per le saghe</li>
<li>La selezione della riga consiste nella chiamata consecutiva ai reducer sottostanti. Questo è l&#x27;unico aspetto un po&#x27; procedurale, perché non possiamo fare tutto in un colpo solo ma dobbiamo aspettare prima che lo stato abbia tutte le variabili in posizione per poterle usare sulle griglie</li>
<li>I riduttori vengono chiamati con delle sotto-action dedicate, <code>updateVariables</code> e <code>updateQuery</code>, che non compariranno mai nel log di <a href="https://github.com/gaearon/redux-devtools" target="_blank" rel="noopener noreferrer">Redux-DevTools</a>. Quello che prima mi sembrava una bestemmia ora mi sembra la cosa più naturale del mondo dato che in fondo è la stessa cosa che scriverei se dovessi chiamare una <a href="https://it.wikipedia.org/wiki/Fa%C3%A7ade_pattern" target="_blank" rel="noopener noreferrer">façade</a> che chiama a sua volta dei sotto-componenti. L&#x27;unica cosa da non fare assolutamente è rendere due reducer interdipendenti, ma un reducer padre può e deve manipolare lo stato dei reducer figli.</li>
</ol>
<p>A questo punto possiamo completamente fare a meno della saga <code>initGrid</code>: l&#x27;inizializzazione parte dalle stesse griglie, che si aggiorneranno automaticamente nel momento in cui la query dovesse cambiare. Abbiamo spostato la logica degli effetti collaterali dentro un componente React e la logica applicativa dentro ai riduttori. Il middleware delle saghe deve solo rimanere in ascolto di richieste di <code>fetchData</code>.</p>
<p>Per dubbi, domande, obiezioni o sdegno non esitate a contattarmi. Un giorno magari implementerò anche un meccanismo di commenti, nel frattempo insultatemi in privato :)</p>
<pre><code># IceOnFire
</code></pre></div></article></main><footer class="jsx-453059934"><a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" rel="noopener noreferrer"><img alt="Licenza Creative Commons" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAPCAMAAABEF7i9AAAAllBMVEUAAAANDQwNDQ0NDg0ODg4PEA8REREZGRkgICAhISEiIiIkJSMnKCcuMC4xMzEzMzM5Ozk7PTtBQkFCQkJDQ0NERERLTEtVVVVbXltmZmZna2dydnF3d3d9gn2AgICGhoaHh4eIiIiPkI+UmZOZmZmqqqqrsaqzuLK6v7q7u7vFxsXGysbIzMjKzsrMzMzd3d3u7u7///+uXr4hAAAA2klEQVQ4y62T6RKCMAyEIyIq3kc961GBeCN5/5eTalupozOONMMfluVjk1AA50VOSwJR1gKEkpgfIV5rf6bTwMgX5iOsjXhYlwQOmq/UKcwQL5NywKqgNASWMQhTYt28552arzIV/FK2AE+bBVzBkcIpcR5kcUK8mvd8Us8fl/Hru2+CBi4hzeRWpj3ZM/cR92eTUNn0uxpvC/QxIZsHGY+Je3ZCKHZIdsI3wczQE5QEMM9n2LvRuGPN0Ab+NkPsNxxvOapsDXDUcvAf5mvZKN6wXvakuD7LjusO1DVRlsjT/rIAAAAASUVORK5CYII=" class="jsx-453059934"/></a> INGLORIOUS CODERZ DI MISTRETTA MATTEO ANTONY | 39 Via Val Della Torre, 10149 Torino (TO) | VAT Code IT11524720015 | Tax Code MSTMTN82R17H501A</footer></div></div><script>__NEXT_DATA__ = {"props":{"pageProps":{"post":{"data":{"title":"Resistere alla tentazione del procedurale in Redux","description":"Non è facile disimparare, ma si può e si deve.","author":"IceOnFire","_entry":"posts/blog/2016-07-21-resistere-alla-tentazione-del-procedurale-in-redux.md","page":"post","name":"resistere-alla-tentazione-del-procedurale-in-redux","category":"blog","date":"2016-07-21T00:00:00.000Z","url":"/blog/resistere-alla-tentazione-del-procedurale-in-redux"},"content":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Proveniendo da un contesto procedurale e orientato agli oggetti, un approccio\nfunzionale e dichiarativo come quello di "},{"type":"element","tagName":"a","properties":{"href":"http://redux.js.org/"},"children":[{"type":"text","value":"redux"}]},{"type":"text","value":" richiede un salto mentale non indifferente. Realizzare applicazioni è molto semplice, almeno finché non si devono gestire un'infinità di effetti collaterali e chiamate asincrone che si innescano a catena. È lì che l'approccio più intrigante risulta quello procedurale. Tuttavia dobbiamo essere coraggiosi e cercare l'approccio più semplice ed elegante, non quello più comodo."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Esempio pratico: "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Master-Detail"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Supponiamo di avere dei componenti griglia che sanno mostrare dati recuperati da remoto con una query. Questa query è dinamica, può cambiare a seconda di variabili che le arrivano dall'esterno."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Supponiamo ora di dover mostrare una prima griglia che non dipende da alcuna variabile. Questa griglia deve poi auto-selezionarsi la prima riga, e questo comporta il caricamento di una seconda griglia i cui dati dipendono dalla riga selezionata (dalle variabili da essa prodotte, per la precisione). Il procedimento può andare avanti con un'ulteriore selezione automatica della prima riga nella seconda griglia e conseguente caricamento di una terza, e così via. La selezione di una riga può ovviamente essere effettuata anche da parte dell'utente, che innescherà un nuovo effetto a catena sulla griglia corrente e su tutte quelle dipendenti."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"La prima soluzione che sono riuscito a ottenere è trasferendo tutto il potere alle saghe di "},{"type":"element","tagName":"a","properties":{"href":"http://yelouafi.github.io/redux-saga/"},"children":[{"type":"text","value":"redux-saga"}]},{"type":"text","value":" (ma i thunk di "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/gaearon/redux-thunk"},"children":[{"type":"text","value":"redux-thunk"}]},{"type":"text","value":" avrebbero sortito lo stesso effetto)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Appena lo store è creato possiamo dispatchare una action di inizializzazione per la prima griglia, quella che non dipende da nessuna variabile:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"store.dispatch(initGrid('FirstGrid'))\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"La saga che accoglierà la action di inizializzazione sarà pressappoco questa:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"function* initGrid(action) {\n  const {\n    payload: { id, variables },\n  } = action\n  const query = computeNewQuery(id, variables)\n\n  try {\n    const data = yield call(fetchData, id, query)\n    yield put(receiveData(id, data))\n    yield put(selectRow(id, 0))\n  } catch ({ message }) {\n    yield put(receiveError(id, message))\n  }\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"La nuova query viene calcolata al volo (ho omesso i dettagli per chiarezza) e viene usata per recuperare i nuovi dati da passare alla griglia chiamando direttamente un'altra saga chiamata "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"fetchData"}]},{"type":"text","value":". Una volta ottenuti i dati viene aggiornata la griglia corrente e viene selezionata la prima riga, e la selezione è il dispatch di una action a un'altra saga:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"function* selectRow(action) {\n  const {\n    payload: { id, selectedRow },\n  } = action\n  const newVars = computeNewVariables(id, selectedRow)\n\n  yield put(updateSelectedRow(id, selectedRow))\n  yield grids.map(grid =\u003e {\n    if (grid.dependsOn(updatedVariables)) {\n      return fork(initGrid, {\n        payload: { id, variables: newVars },\n      })\n    }\n  })\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Questo approccio funziona, e pare anche abbastanza pulito. Le saghe in questa implementazione possono essere viste come degli agenti esterni (forse qualcosa di simile agli "},{"type":"element","tagName":"a","properties":{"href":"http://jamesknelson.com/join-the-dark-side-of-the-flux-responding-to-actions-with-actors/"},"children":[{"type":"text","value":"attori"}]},{"type":"text","value":"?) oppure, in modo più pittoresco, come aerei che volano a bassa quota sull'applicazione sganciando action per aggiornare lo store."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Ci sono però alcuni code smell più o meno evidenti:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"I riduttori non hanno logica, vengono interpellati solo per popolarsi con dati recuperati o calcolati dalle saghe"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Nelle saghe invece è nascosta tanta, tanta logica procedurale, compresa la scelta di quali griglie devono essere aggiornate o addirittura quale griglia inizializzare per prima, e scriverci sopra degli unit test non è così banale (sicuramente più semplice che farlo con i thunk, per cui se la strada scelta è questa almeno scegliete il male minore)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"C'è una dipendenza ciclica fra le due saghe, perché quando inizializzo una griglia devo selezionare la prima riga e quando seleziono la prima riga devo inizializzare le griglie dipendenti"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Nella saga di "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"selectRow"}]},{"type":"text","value":" viene chiamata la saga "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"initGrid"}]},{"type":"text","value":" sfruttando una finta action: questo perché le saghe per contratto devono accettare una action se vogliono essere usate in un "},{"type":"element","tagName":"a","properties":{"href":"http://yelouafi.github.io/redux-saga/docs/advanced/Concurrency.html"},"children":[{"type":"text","value":"takeEvery"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Il tutto nasce dal presupposto che le griglie debbano essere piuttosto stupide, e sappiano visualizzare i dati recuperati altrove (dalle saghe) piuttosto che effettuare loro stesse le query. Ma riguardando più volte al microscopio i "},{"type":"element","tagName":"a","properties":{"href":"https://egghead.io/courses/getting-started-with-redux"},"children":[{"type":"text","value":"video tutorial"}]},{"type":"text","value":" di Dan Abramov, in particolare il "},{"type":"element","tagName":"a","properties":{"href":"https://egghead.io/courses/building-react-applications-with-idiomatic-redux"},"children":[{"type":"text","value":"secondo"}]},{"type":"text","value":", nonché le discussioni su Github relative a "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/reactjs/redux/issues/1171"},"children":[{"type":"text","value":"come strutturare un'applicazione Redux"}]},{"type":"text","value":" e a "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/reactjs/redux/issues/749"},"children":[{"type":"text","value":"come modificare lo stato di riduttori interdipendenti"}]},{"type":"text","value":", mi sono convinto che un'altra soluzione sia possibile, e anche più efficace."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"La soluzione in parole povere è la seguente:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"La query calcolata è parte integrante dello stato delle griglie (ma forse potrebbe anche essere implementata come un "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/reactjs/reselect"},"children":[{"type":"text","value":"selettore memoizzato"}]},{"type":"text","value":"):"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"function query = (state, action) =\u003e {\n  const { type, payload } = action\n\n  switch (type) {\n    case UPDATE_LIVE_QUERY:\n      return computeNewQuery(payload)\n    default:\n      return state\n  }\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Le griglie, esattamente come nei video tutorial, sono suddivise in "},{"type":"element","tagName":"a","properties":{"href":"https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0#.jqqae1xb5"},"children":[{"type":"text","value":"componenti presentazionali e componenti contenitori"}]},{"type":"text","value":", e i contenitori sono in grado di chiamare la saga "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"fetchData"}]},{"type":"text","value":" per conto loro nei metodi "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"componentDidMount"}]},{"type":"text","value":" e "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"componentDidUpdate"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"class GridContainer extends Component {\n  fetchData() {\n    const { id, canFetchData, requestData } = this.props\n\n    if (canFetchData) {\n      requestData(id)\n    }\n  }\n\n  componentDidMount() {\n    this.fetchData()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.liveQuery !== prevProps.liveQuery) {\n      this.fetchData()\n    }\n  }\n\n  render() {\n    const { id, canFetchData, requestData, ...rest } = this.props\n    return \u003cGrid id={id} {...rest} /\u003e\n  }\n}\n\nconnect(\n  mapStateToProps,\n  { requestData, selectRow },\n)(GridContainer)\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Come si può notare, nel metodo "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"componentDidUpdate"}]},{"type":"text","value":" la chiamata a "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"fetchData"}]},{"type":"text","value":" deve essere fatta solo se la query è cambiata rispetto a prima. Questo significa che bisogna prestare particolare attenzione nel riduttore a non fornire una copia della query ma la query stessa se il dispatch di una action non l'ha cambiata. A questo scopo potrebbe essere molto utile una libreria come "},{"type":"element","tagName":"a","properties":{"href":"https://facebook.github.io/immutable-js/"},"children":[{"type":"text","value":"Immutable"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Inoltre nel metodo "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"fetchData"}]},{"type":"text","value":" viene passata una proprietà chiamata "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"canFetchData"}]},{"type":"text","value":": questa non è altro che un selettore che verifica che la query corrente abbia tutte le informazioni necessarie per essere eseguita (cioè non dipenda da alcuna variabile o le variabili da cui dipende ci siano tutte). Questo approccio, che mi piace chiamare "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ragionare a compartimenti stagni"}]},{"type":"text","value":", è semplicemente la base di una programmazione modulare."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Il pezzo difficile è nel "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"rootReducer"}]},{"type":"text","value":": quando viene selezionata una riga, questo deve calcolare le nuove variabili, aggiornarle nella porzione di stato dedicata, e poi usare le variabili per aggiornare la query alle griglie ("},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"TUTTE"}]},{"type":"text","value":" le variabili e "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"TUTTE"}]},{"type":"text","value":" le griglie, è questo che lo rende più dichiarativo e fail-safe). Perché implementare questa logica proprio nella root? Perché è l'"},{"type":"element","tagName":"a","properties":{"href":"https://en.wikipedia.org/wiki/GRASP_(object-oriented_design#Information_expert)"},"children":[{"type":"text","value":"Information Expert"}]},{"type":"text","value":" della situazione:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"const rootReducer = (state, action) =\u003e {\n  const { type, payload } = action\n  switch (type) {\n    case '@@INIT':\n      return {\n        ...state,\n        viewers: viewers(state.grids, computeNewQuery(state.variables)),\n      }\n    case SELECT_ROW:\n      const newVars = computeNewVariables(payload.id, payload.row)\n      let newState = {\n        ...state,\n        grids: grids(state.grids, action),\n        variables: variables(state.variables, updateVariables(newVars)),\n      }\n      return {\n        ...newState,\n        grids: grids(newState.grids, updateQuery(newState.variables)),\n      }\n    default:\n      return state\n  }\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Alcune cose da notare qui:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Stiamo usando la action di inizializzazione di Redux per cominciare a \"svegliare\" le griglie; forse non è molto ortodosso, avremmo potuto dispatchare una nostra action come fatto per le saghe"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"La selezione della riga consiste nella chiamata consecutiva ai reducer sottostanti. Questo è l'unico aspetto un po' procedurale, perché non possiamo fare tutto in un colpo solo ma dobbiamo aspettare prima che lo stato abbia tutte le variabili in posizione per poterle usare sulle griglie"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"I riduttori vengono chiamati con delle sotto-action dedicate, "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"updateVariables"}]},{"type":"text","value":" e "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"updateQuery"}]},{"type":"text","value":", che non compariranno mai nel log di "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/gaearon/redux-devtools"},"children":[{"type":"text","value":"Redux-DevTools"}]},{"type":"text","value":". Quello che prima mi sembrava una bestemmia ora mi sembra la cosa più naturale del mondo dato che in fondo è la stessa cosa che scriverei se dovessi chiamare una "},{"type":"element","tagName":"a","properties":{"href":"https://it.wikipedia.org/wiki/Fa%C3%A7ade_pattern"},"children":[{"type":"text","value":"façade"}]},{"type":"text","value":" che chiama a sua volta dei sotto-componenti. L'unica cosa da non fare assolutamente è rendere due reducer interdipendenti, ma un reducer padre può e deve manipolare lo stato dei reducer figli."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A questo punto possiamo completamente fare a meno della saga "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"initGrid"}]},{"type":"text","value":": l'inizializzazione parte dalle stesse griglie, che si aggiorneranno automaticamente nel momento in cui la query dovesse cambiare. Abbiamo spostato la logica degli effetti collaterali dentro un componente React e la logica applicativa dentro ai riduttori. Il middleware delle saghe deve solo rimanere in ascolto di richieste di "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"fetchData"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Per dubbi, domande, obiezioni o sdegno non esitate a contattarmi. Un giorno magari implementerò anche un meccanismo di commenti, nel frattempo insultatemi in privato :)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"# IceOnFire\n"}]}]}],"data":{"quirksMode":false}},"raw":"\nProveniendo da un contesto procedurale e orientato agli oggetti, un approccio\nfunzionale e dichiarativo come quello di [redux](http://redux.js.org/) richiede un salto mentale non indifferente. Realizzare applicazioni è molto semplice, almeno finché non si devono gestire un'infinità di effetti collaterali e chiamate asincrone che si innescano a catena. È lì che l'approccio più intrigante risulta quello procedurale. Tuttavia dobbiamo essere coraggiosi e cercare l'approccio più semplice ed elegante, non quello più comodo.\n\nEsempio pratico: _Master-Detail_.\n\nSupponiamo di avere dei componenti griglia che sanno mostrare dati recuperati da remoto con una query. Questa query è dinamica, può cambiare a seconda di variabili che le arrivano dall'esterno.\n\nSupponiamo ora di dover mostrare una prima griglia che non dipende da alcuna variabile. Questa griglia deve poi auto-selezionarsi la prima riga, e questo comporta il caricamento di una seconda griglia i cui dati dipendono dalla riga selezionata (dalle variabili da essa prodotte, per la precisione). Il procedimento può andare avanti con un'ulteriore selezione automatica della prima riga nella seconda griglia e conseguente caricamento di una terza, e così via. La selezione di una riga può ovviamente essere effettuata anche da parte dell'utente, che innescherà un nuovo effetto a catena sulla griglia corrente e su tutte quelle dipendenti.\n\nLa prima soluzione che sono riuscito a ottenere è trasferendo tutto il potere alle saghe di [redux-saga](http://yelouafi.github.io/redux-saga/) (ma i thunk di [redux-thunk](https://github.com/gaearon/redux-thunk) avrebbero sortito lo stesso effetto).\n\nAppena lo store è creato possiamo dispatchare una action di inizializzazione per la prima griglia, quella che non dipende da nessuna variabile:\n\n```js\nstore.dispatch(initGrid('FirstGrid'))\n```\n\nLa saga che accoglierà la action di inizializzazione sarà pressappoco questa:\n\n```js\nfunction* initGrid(action) {\n  const {\n    payload: { id, variables },\n  } = action\n  const query = computeNewQuery(id, variables)\n\n  try {\n    const data = yield call(fetchData, id, query)\n    yield put(receiveData(id, data))\n    yield put(selectRow(id, 0))\n  } catch ({ message }) {\n    yield put(receiveError(id, message))\n  }\n}\n```\n\nLa nuova query viene calcolata al volo (ho omesso i dettagli per chiarezza) e viene usata per recuperare i nuovi dati da passare alla griglia chiamando direttamente un'altra saga chiamata `fetchData`. Una volta ottenuti i dati viene aggiornata la griglia corrente e viene selezionata la prima riga, e la selezione è il dispatch di una action a un'altra saga:\n\n```js\nfunction* selectRow(action) {\n  const {\n    payload: { id, selectedRow },\n  } = action\n  const newVars = computeNewVariables(id, selectedRow)\n\n  yield put(updateSelectedRow(id, selectedRow))\n  yield grids.map(grid =\u003e {\n    if (grid.dependsOn(updatedVariables)) {\n      return fork(initGrid, {\n        payload: { id, variables: newVars },\n      })\n    }\n  })\n}\n```\n\nQuesto approccio funziona, e pare anche abbastanza pulito. Le saghe in questa implementazione possono essere viste come degli agenti esterni (forse qualcosa di simile agli [attori](http://jamesknelson.com/join-the-dark-side-of-the-flux-responding-to-actions-with-actors/)?) oppure, in modo più pittoresco, come aerei che volano a bassa quota sull'applicazione sganciando action per aggiornare lo store.\n\nCi sono però alcuni code smell più o meno evidenti:\n\n1. I riduttori non hanno logica, vengono interpellati solo per popolarsi con dati recuperati o calcolati dalle saghe\n2. Nelle saghe invece è nascosta tanta, tanta logica procedurale, compresa la scelta di quali griglie devono essere aggiornate o addirittura quale griglia inizializzare per prima, e scriverci sopra degli unit test non è così banale (sicuramente più semplice che farlo con i thunk, per cui se la strada scelta è questa almeno scegliete il male minore)\n3. C'è una dipendenza ciclica fra le due saghe, perché quando inizializzo una griglia devo selezionare la prima riga e quando seleziono la prima riga devo inizializzare le griglie dipendenti\n4. Nella saga di `selectRow` viene chiamata la saga `initGrid` sfruttando una finta action: questo perché le saghe per contratto devono accettare una action se vogliono essere usate in un [takeEvery](http://yelouafi.github.io/redux-saga/docs/advanced/Concurrency.html)\n\nIl tutto nasce dal presupposto che le griglie debbano essere piuttosto stupide, e sappiano visualizzare i dati recuperati altrove (dalle saghe) piuttosto che effettuare loro stesse le query. Ma riguardando più volte al microscopio i [video tutorial](https://egghead.io/courses/getting-started-with-redux) di Dan Abramov, in particolare il [secondo](https://egghead.io/courses/building-react-applications-with-idiomatic-redux), nonché le discussioni su Github relative a [come strutturare un'applicazione Redux](https://github.com/reactjs/redux/issues/1171) e a [come modificare lo stato di riduttori interdipendenti](https://github.com/reactjs/redux/issues/749), mi sono convinto che un'altra soluzione sia possibile, e anche più efficace.\n\nLa soluzione in parole povere è la seguente:\n\nLa query calcolata è parte integrante dello stato delle griglie (ma forse potrebbe anche essere implementata come un [selettore memoizzato](https://github.com/reactjs/reselect)):\n\n```js\nfunction query = (state, action) =\u003e {\n  const { type, payload } = action\n\n  switch (type) {\n    case UPDATE_LIVE_QUERY:\n      return computeNewQuery(payload)\n    default:\n      return state\n  }\n}\n```\n\nLe griglie, esattamente come nei video tutorial, sono suddivise in [componenti presentazionali e componenti contenitori](https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0#.jqqae1xb5), e i contenitori sono in grado di chiamare la saga `fetchData` per conto loro nei metodi `componentDidMount` e `componentDidUpdate`:\n\n```js\nclass GridContainer extends Component {\n  fetchData() {\n    const { id, canFetchData, requestData } = this.props\n\n    if (canFetchData) {\n      requestData(id)\n    }\n  }\n\n  componentDidMount() {\n    this.fetchData()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.liveQuery !== prevProps.liveQuery) {\n      this.fetchData()\n    }\n  }\n\n  render() {\n    const { id, canFetchData, requestData, ...rest } = this.props\n    return \u003cGrid id={id} {...rest} /\u003e\n  }\n}\n\nconnect(\n  mapStateToProps,\n  { requestData, selectRow },\n)(GridContainer)\n```\n\nCome si può notare, nel metodo `componentDidUpdate` la chiamata a `fetchData` deve essere fatta solo se la query è cambiata rispetto a prima. Questo significa che bisogna prestare particolare attenzione nel riduttore a non fornire una copia della query ma la query stessa se il dispatch di una action non l'ha cambiata. A questo scopo potrebbe essere molto utile una libreria come [Immutable](https://facebook.github.io/immutable-js/).\n\nInoltre nel metodo `fetchData` viene passata una proprietà chiamata `canFetchData`: questa non è altro che un selettore che verifica che la query corrente abbia tutte le informazioni necessarie per essere eseguita (cioè non dipenda da alcuna variabile o le variabili da cui dipende ci siano tutte). Questo approccio, che mi piace chiamare _ragionare a compartimenti stagni_, è semplicemente la base di una programmazione modulare.\n\nIl pezzo difficile è nel `rootReducer`: quando viene selezionata una riga, questo deve calcolare le nuove variabili, aggiornarle nella porzione di stato dedicata, e poi usare le variabili per aggiornare la query alle griglie (_TUTTE_ le variabili e _TUTTE_ le griglie, è questo che lo rende più dichiarativo e fail-safe). Perché implementare questa logica proprio nella root? Perché è l'[Information Expert](\u003chttps://en.wikipedia.org/wiki/GRASP_(object-oriented_design#Information_expert)\u003e) della situazione:\n\n```js\nconst rootReducer = (state, action) =\u003e {\n  const { type, payload } = action\n  switch (type) {\n    case '@@INIT':\n      return {\n        ...state,\n        viewers: viewers(state.grids, computeNewQuery(state.variables)),\n      }\n    case SELECT_ROW:\n      const newVars = computeNewVariables(payload.id, payload.row)\n      let newState = {\n        ...state,\n        grids: grids(state.grids, action),\n        variables: variables(state.variables, updateVariables(newVars)),\n      }\n      return {\n        ...newState,\n        grids: grids(newState.grids, updateQuery(newState.variables)),\n      }\n    default:\n      return state\n  }\n}\n```\n\nAlcune cose da notare qui:\n\n1. Stiamo usando la action di inizializzazione di Redux per cominciare a \"svegliare\" le griglie; forse non è molto ortodosso, avremmo potuto dispatchare una nostra action come fatto per le saghe\n2. La selezione della riga consiste nella chiamata consecutiva ai reducer sottostanti. Questo è l'unico aspetto un po' procedurale, perché non possiamo fare tutto in un colpo solo ma dobbiamo aspettare prima che lo stato abbia tutte le variabili in posizione per poterle usare sulle griglie\n3. I riduttori vengono chiamati con delle sotto-action dedicate, `updateVariables` e `updateQuery`, che non compariranno mai nel log di [Redux-DevTools](https://github.com/gaearon/redux-devtools). Quello che prima mi sembrava una bestemmia ora mi sembra la cosa più naturale del mondo dato che in fondo è la stessa cosa che scriverei se dovessi chiamare una [façade](https://it.wikipedia.org/wiki/Fa%C3%A7ade_pattern) che chiama a sua volta dei sotto-componenti. L'unica cosa da non fare assolutamente è rendere due reducer interdipendenti, ma un reducer padre può e deve manipolare lo stato dei reducer figli.\n\nA questo punto possiamo completamente fare a meno della saga `initGrid`: l'inizializzazione parte dalle stesse griglie, che si aggiorneranno automaticamente nel momento in cui la query dovesse cambiare. Abbiamo spostato la logica degli effetti collaterali dentro un componente React e la logica applicativa dentro ai riduttori. Il middleware delle saghe deve solo rimanere in ascolto di richieste di `fetchData`.\n\nPer dubbi, domande, obiezioni o sdegno non esitate a contattarmi. Un giorno magari implementerò anche un meccanismo di commenti, nel frattempo insultatemi in privato :)\n\n    # IceOnFire\n"},"_entriesMap":{"/blog":{"pathname":"/blog"},"/how-much":{"pathname":"/how-much"},"/how":{"pathname":"/how"},"/icy":{"pathname":"/icy"},"/privacy-policy":{"pathname":"/privacy-policy"},"/what/code":{"pathname":"/what/code"},"/what/community":{"pathname":"/what/community"},"/what":{"pathname":"/what"},"/what/speak/conferences":{"pathname":"/what/speak/conferences"},"/what/speak":{"pathname":"/what/speak"},"/what/volunteer":{"pathname":"/what/volunteer"},"/when":{"pathname":"/when"},"/where":{"pathname":"/where"},"/who/consultant":{"pathname":"/who/consultant"},"/who":{"pathname":"/who"},"/who/mentor":{"pathname":"/who/mentor"},"/who/teacher":{"pathname":"/who/teacher"},"/who/tech-lead":{"pathname":"/who/tech-lead"},"/why":{"pathname":"/why"},"/404":{"pathname":"/_error"},"/":{"pathname":"/"},"/blog/hello-world":{"pathname":"/post","query":{"_entry":"posts/blog/2016-02-21-hello-world.md"}},"/blog/il-vaso-di-piva":{"pathname":"/post","query":{"_entry":"posts/blog/2016-05-11-il-vaso-di-piva.md"}},"/blog/resistere-alla-tentazione-del-procedurale-in-redux":{"pathname":"/post","query":{"_entry":"posts/blog/2016-07-21-resistere-alla-tentazione-del-procedurale-in-redux.md"}},"/blog/pokemon-go-e-la-teoria-degli-effetti-collaterali":{"pathname":"/post","query":{"_entry":"posts/blog/2016-07-22-pokemon-go-e-la-teoria-degli-effetti-collaterali.md"}},"/blog/componenti-react-redux-come-librerie":{"pathname":"/post","query":{"_entry":"posts/blog/2016-11-16-componenti-react-redux-come-librerie.md"}},"/blog/migliorare-il-codice-con-il-currying":{"pathname":"/post","query":{"_entry":"posts/blog/2018-02-08-migliorare-il-codice-con-il-currying.md"}},"/blog/loopback-porting-di-spring-boot":{"pathname":"/post","query":{"_entry":"posts/blog/2018-10-23-loopback-porting-di-spring-boot.md"}},"/blog/oracles-in-quantum-algorithms":{"pathname":"/post","query":{"_entry":"posts/blog/2020-04-25-oracles-in-quantum-algorithms.md"}},"/blog/reverse-engineering-quantum-circuits":{"pathname":"/post","query":{"_entry":"posts/blog/2020-05-01-reverse-engineering-quantum-circuits.md"}},"/blog/programmiamo-un-calcolatore-quantistico-in-python":{"pathname":"/post","query":{"_entry":"posts/blog/2021-03-11-programmiamo-un-calcolatore-quantistico-in-python.md"}}}}},"page":"/post","query":{"_entry":"posts/blog/2016-07-21-resistere-alla-tentazione-del-procedurale-in-redux.md"},"buildId":"U8cRU8f7JegK67LboKVwn","nextExport":true};__NEXT_LOADED_PAGES__=[];__NEXT_REGISTER_PAGE=function(r,f){__NEXT_LOADED_PAGES__.push([r, f])}</script><script async="" id="__NEXT_PAGE__/post" src="/_next/static/U8cRU8f7JegK67LboKVwn/pages/post.js"></script><script async="" id="__NEXT_PAGE__/_app" src="/_next/static/U8cRU8f7JegK67LboKVwn/pages/_app.js"></script><script async="" id="__NEXT_PAGE__/_error" src="/_next/static/U8cRU8f7JegK67LboKVwn/pages/_error.js"></script><script src="/_next/static/runtime/webpack-347dd6a0495bab5a4caf.js" async=""></script><script src="/_next/static/chunks/commons.82aab45b771716fb8e99.js" async=""></script><script src="/_next/static/chunks/styles.273fa001fc5fa7fd2b84.js" async=""></script><script src="/_next/static/runtime/main-dcd3443c392942bb9cfd.js" async=""></script></body></html>